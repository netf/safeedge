// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package generated

import (
	"net"
	"net/netip"
	"time"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

type AccessSession struct {
	ID                  uuid.UUID          `json:"id"`
	DeviceID            uuid.UUID          `json:"device_id"`
	UserEmail           string             `json:"user_email"`
	WireguardPeerConfig string             `json:"wireguard_peer_config"`
	ExpiresAt           time.Time          `json:"expires_at"`
	TerminatedAt        pgtype.Timestamptz `json:"terminated_at"`
	CreatedAt           time.Time          `json:"created_at"`
}

type Artifact struct {
	ID             uuid.UUID `json:"id"`
	OrganizationID uuid.UUID `json:"organization_id"`
	Name           string    `json:"name"`
	Type           string    `json:"type"`
	Blake3Hash     string    `json:"blake3_hash"`
	Signature      []byte    `json:"signature"`
	SigningKeyID   string    `json:"signing_key_id"`
	S3Url          string    `json:"s3_url"`
	SizeBytes      int64     `json:"size_bytes"`
	CreatedAt      time.Time `json:"created_at"`
}

type AuditLog struct {
	ID             uuid.UUID   `json:"id"`
	Timestamp      time.Time   `json:"timestamp"`
	OrganizationID uuid.UUID   `json:"organization_id"`
	UserEmail      pgtype.Text `json:"user_email"`
	EventType      string      `json:"event_type"`
	ResourceType   string      `json:"resource_type"`
	ResourceID     string      `json:"resource_id"`
	Action         string      `json:"action"`
	Result         string      `json:"result"`
	Metadata       []byte      `json:"metadata"`
	IpAddress      *netip.Addr `json:"ip_address"`
}

type Device struct {
	ID                 uuid.UUID          `json:"id"`
	OrganizationID     uuid.UUID          `json:"organization_id"`
	PublicKey          string             `json:"public_key"`
	WireguardPublicKey string             `json:"wireguard_public_key"`
	WireguardIp        net.IP             `json:"wireguard_ip"`
	AgentVersion       string             `json:"agent_version"`
	Platform           string             `json:"platform"`
	SiteTag            pgtype.Text        `json:"site_tag"`
	Status             string             `json:"status"`
	LastSeenAt         pgtype.Timestamptz `json:"last_seen_at"`
	CreatedAt          time.Time          `json:"created_at"`
}

type EnrollmentToken struct {
	ID             uuid.UUID   `json:"id"`
	OrganizationID uuid.UUID   `json:"organization_id"`
	TokenHash      string      `json:"token_hash"`
	SiteTag        pgtype.Text `json:"site_tag"`
	ExpiresAt      time.Time   `json:"expires_at"`
	MaxUses        int32       `json:"max_uses"`
	UsedCount      int32       `json:"used_count"`
	CreatedAt      time.Time   `json:"created_at"`
}

type Organization struct {
	ID        uuid.UUID `json:"id"`
	Name      string    `json:"name"`
	CreatedAt time.Time `json:"created_at"`
}

type Rollout struct {
	ID              uuid.UUID          `json:"id"`
	OrganizationID  uuid.UUID          `json:"organization_id"`
	ArtifactID      uuid.UUID          `json:"artifact_id"`
	TargetSelector  []byte             `json:"target_selector"`
	CanaryPercent   int32              `json:"canary_percent"`
	SoakTimeSeconds int32              `json:"soak_time_seconds"`
	HealthCheckUrl  string             `json:"health_check_url"`
	State           string             `json:"state"`
	CreatedAt       time.Time          `json:"created_at"`
	StartedAt       pgtype.Timestamptz `json:"started_at"`
	CompletedAt     pgtype.Timestamptz `json:"completed_at"`
}

type RolloutDeviceStatus struct {
	RolloutID         uuid.UUID `json:"rollout_id"`
	DeviceID          uuid.UUID `json:"device_id"`
	IsCanary          bool      `json:"is_canary"`
	Status            string    `json:"status"`
	HealthCheckResult []byte    `json:"health_check_result"`
	UpdatedAt         time.Time `json:"updated_at"`
}
